<MudNavMenu Rounded="true" Margin=Margin.Normal Class="pa-2" Color=Color.Primary>

    <MudNavLink Href="" aria-label="Chat navigation option." Icon="@Icons.Material.Filled.QuestionAnswer" Match="NavLinkMatch.All">Chat</MudNavLink>

    @if (_user != null && _user.Profiles.Where(p => p.Approach == ProfileApproach.UserDocumentChat).Any())
    {
        <MudNavLink Href="documents" aria-label="View user documents." Icon="@Icons.Material.Filled.FileUpload">Documents</MudNavLink>
    }

    @* 	@if (_user != null && _user.Profiles.Where(p => p.SupportsFileUpload).Any())
    {
        <MudNavLink Href="collections" aria-label="View user documents." Icon="@Icons.Material.Filled.FileUpload">Collections</MudNavLink>
    } *@

	<MudNavLink Href="v2/history" aria-label="View chat history." Icon="@Icons.Material.Filled.List">History</MudNavLink>

    @if (showSettings) {
      	<MudNavLink Href="settings" aria-label="Settings Page" Icon="@Icons.Material.Filled.Settings">Settings</MudNavLink>
    }

</MudNavMenu>

@code {
    private UserInformation _user;
    private bool showSettings = true;
    protected override async Task OnInitializedAsync()
    {
        _user = await ApiClient.GetUserAsync();
        var isAdmin = _user.Groups.Contains("Admin");
        showSettings = isAdmin ||
            _user.UserName.Contains("localdevuser", StringComparison.InvariantCultureIgnoreCase) ||
            _user.UserName.Contains("rutz", StringComparison.InvariantCultureIgnoreCase) ||
            _user.UserName.Contains("luppes", StringComparison.InvariantCultureIgnoreCase);
    }

    [Inject] public required ApiClient ApiClient { get; set; }
}